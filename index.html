<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>60天打卡表</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .completed {
            background-color: #e6ffe6;
        }
        .checkbox {
            transform: scale(1.5);
            cursor: pointer;
        }
        .controls {
            text-align: center;
            margin-bottom: 20px;
        }
        button {
            padding: 8px 16px;
            margin: 0 10px;
            cursor: pointer;
        }
        .clickable-day {
            color: #1a73e8;
            cursor: pointer;
            text-decoration: none;
            font-weight: bold;
        }
        .clickable-day:hover {
            text-decoration: underline;
        }
        .progress-container {
            margin: 20px 0;
            text-align: center;
        }
        .progress-bar {
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: #4CAF50;
            width: 0%;
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <h1>奥数60天打卡表</h1>
    
    <div class="progress-container">
        <div>已完成: <span id="completedDays">0</span>/60 天</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
    </div>
    
    <div class="controls">
        <button id="saveBtn">保存进度</button>
        <button id="resetBtn">重置全部</button>
        <button id="printBtn">打印表格</button>
    </div>
    
    <table id="checklist">
        <thead>
            <tr>
                <th width="20%">天数</th>
                <th width="20%">完成状态</th>
                <th width="30%">完成日期</th>
                <th width="30%">备注</th>
            </tr>
        </thead>
        <tbody>
            <!-- 使用JavaScript动态生成60天打卡行 -->
        </tbody>
    </table>

    <script>
      // 生成60天打卡行（使第一天和第二天文字可点击）
    const tbody = document.querySelector('#checklist tbody');
    for (let i = 1; i <= 60; i++) {
        const row = document.createElement('tr');
        
        // 特别处理第一天和第二天
        let dayCell;
        if (i === 1) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math1/', '_blank')">第1天</span></td>`;
        } else if (i === 2) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/mayh2/', '_blank')">第2天</span></td>`;
        } else if (i === 3) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math3/', '_blank')">第3天</span></td>`;
  } else if (i === 4) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math4/', '_blank')">第4天</span></td>`;
 } else if (i === 5) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math5/', '_blank')">第5天</span></td>`;
} else if (i === 6) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math6/', '_blank')">第6天</span></td>`;
} else if (i === 7) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math7/', '_blank')">第7天</span></td>`;

} else if (i === 8) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math8/', '_blank')">第8天</span></td>`;

} else if (i === 9) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math9/', '_blank')">第9天</span></td>`;
} else if (i === 10) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math10/', '_blank')">第10天</span></td>`;
} else if (i === 11) {
            dayCell = `<td><span class="clickable-day" onclick="window.open('https://sandy-long.github.io/math11/', '_blank')">第11天</span></td>`;
		
        } else {
            dayCell = `<td>第${i}天</td>`;
        }
        
        row.innerHTML = `
            ${dayCell}
            <td><input type="checkbox" class="checkbox" id="day${i}"></td>
            <td class="date-cell"></td>
            <td><input type="text" class="note" placeholder="可填写备注"></td>
        `;
        tbody.appendChild(row);
    }

        

        // 更新进度显示
        function updateProgress() {
            const totalDays = 60;
            const completed = document.querySelectorAll('.checkbox:checked').length;
            document.getElementById('completedDays').textContent = completed;
            document.getElementById('progressFill').style.width = `${(completed/totalDays)*100}%`;
            
            // 简单庆祝动画（当完成时）
            if (completed === totalDays) {
                alert('恭喜您完成了60天打卡挑战！🎉');
            }
        }

        // 为所有复选框添加事件监听器
        document.querySelectorAll('.checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const row = this.closest('tr');
                const dateCell = row.querySelector('.date-cell');
                const noteInput = row.querySelector('.note');
                
                if(this.checked) {
                    row.classList.add('completed');
                    const today = new Date();
                    dateCell.textContent = today.toLocaleDateString();
                    saveToLocalStorage(this.id, true, dateCell.textContent, noteInput.value);
                } else {
                    row.classList.remove('completed');
                    dateCell.textContent = '';
                    saveToLocalStorage(this.id, false, '', noteInput.value);
                }
                
                updateProgress();
            });
        });

        // 为备注输入框添加事件监听器
        document.querySelectorAll('.note').forEach(input => {
            input.addEventListener('change', function() {
                const row = this.closest('tr');
                const checkbox = row.querySelector('.checkbox');
                const dateCell = row.querySelector('.date-cell');
                saveToLocalStorage(checkbox.id, checkbox.checked, dateCell.textContent, this.value);
            });
        });

        // 保存到本地存储
        function saveToLocalStorage(id, checked, date, note) {
            const data = {
                checked: checked,
                date: date,
                note: note
            };
            localStorage.setItem(id, JSON.stringify(data));
        }

        // 从本地存储加载数据
        function loadFromLocalStorage() {
            for (let i = 1; i <= 60; i++) {
                const id = `day${i}`;
                const data = localStorage.getItem(id);
                if (data) {
                    const parsedData = JSON.parse(data);
                    const checkbox = document.getElementById(id);
                    const row = checkbox.closest('tr');
                    const dateCell = row.querySelector('.date-cell');
                    const noteInput = row.querySelector('.note');
                    
                    checkbox.checked = parsedData.checked;
                    if (parsedData.checked) {
                        row.classList.add('completed');
                        dateCell.textContent = parsedData.date;
                    }
                    noteInput.value = parsedData.note || '';
                }
            }
            updateProgress();
        }

        // 重置所有数据
        document.getElementById('resetBtn').addEventListener('click', function() {
            if (confirm('确定要重置所有打卡记录吗？')) {
                localStorage.clear();
                document.querySelectorAll('.checkbox').forEach(checkbox => {
                    checkbox.checked = false;
                    const row = checkbox.closest('tr');
                    row.classList.remove('completed');
                    row.querySelector('.date-cell').textContent = '';
                    row.querySelector('.note').value = '';
                });
                updateProgress();
            }
        });

        // 保存按钮
        document.getElementById('saveBtn').addEventListener('click', function() {
            alert('进度已自动保存！');
        });

        // 打印按钮
        document.getElementById('printBtn').addEventListener('click', function() {
            window.print();
        });

        // 页面加载时从本地存储恢复数据
        window.addEventListener('load', loadFromLocalStorage);
		// updateProgress, event listeners, localStorage functions etc. remain the same
    </script>
</body>
</html>
